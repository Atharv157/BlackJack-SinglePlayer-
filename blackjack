import random
wallet = 1000
#1- Hearts
#2- Spades
#3-Diamond
#4-Club
def deal(player,count,deck): 
    player.append(deck.pop(deck.index(random.choice(deck))))
    count = count + 1
def update(player,count ,player_total):
    temp = ['J','Q','K']
    if len(set(temp)&set(player))>=0:
        player_total +=10
    else:
        player_total = player_total + player[count][0]  
quit=1    
while(quit):    
    SUITE = "Hearts Diamond Spades Clubs".split()
    RANKS = "1 2 3 4 5 6 7 8 9 10 J Q K".split()
    ranks = "J Q k".split()
    for x in xrange(10):
        RANKS[x]=int(RANKS[x]) 
    deck = [(r,s) for  s in SUITE for r in RANKS] 
    temp = [(i,j) for i in SUITE for j in ranks]
    #print(deck)
    player = []
    player_total = 0
    dealer_total = 0 
    dealer = []
    pcount  = 0
    dcount = 0
    hit = False 
    end = False
    print("Currently you have a wallet amount of "+ str(wallet))
    bet = int(input("Enter bet amount : "))
    wallet = wallet - bet 
    deal(player, pcount,deck)
    deal(player, pcount,deck)
    deal(dealer, dcount,deck)
    deal(dealer, dcount,deck)
    print("your cards are :")
    print(player)
    update(player,pcount,player_total)
    update(dealer,dcount,dealer_total)
    print("Total : "+ str(player_total))
    print("dealer's cards are : "+str(dealer[0])+" second card is closed")
    while(1):
        choice = int(input("1 : Hit \n 2 : Stay \n 3 : Double Down "))
        if choice ==1 :
            deal(player, pcount ,deck)
            update(player,pcount,player_total)
            print("your cards are : ")
            print(player)
            print("Total : "+ str(player_total))
            hit = True
            if player_total>21:
                print("You Lost  !!!")
                end = True
                break    
        elif choice == 2 :
            break
        elif choice == 3:
            if hit :
                print("cannot double down now as you have opted for hit before")
            elif player_total == 9 or player_total==10 or player_total == 11:
                print("bet amount doubled !!!")
                deal(player , pcount )
                update(player,pcount,player_total)
                print("your cards are : ")
                print(player)
                print("Total : "+ str(player_total))
                wallet = wallet - bet
                bet = bet *2
                hit = True
                break 
            else : 
                print("total does not equals 9/10/11")
    if not end:            
        while(1):
            if dealer_total >=17:
                break
            elif dealer_total < 17:
                print("dealer is hitting")
                deal(dealer , dcount,deck)
                update(dealer,dcount ,dealer_total)
                print("dealers cards are ")
                print(dealer)
        if dealer_total > 21 or player_total > dealer_total:
            print("You Win  !!!")
            if player_total ==21:
                wallet = wallet + (2.5*bet)
            else:
                wallet = wallet + (2*bet)
        elif player_total == dealer_total:
            print("draw")
        else:
            print("You Lost !!!")
    quit = int(input("do you want to play another game ?.. 1 for yes...0 for no"))
